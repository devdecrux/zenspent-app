server {
      listen 80;
      server_name localhost;

      location /api/ {
          proxy_pass http://host.docker.internal:8081;
          proxy_set_header Host $host;
          proxy_set_header X-Forwarded-Proto $scheme;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_cookie_path /api /;
      }

      location /frontend/ {
          proxy_pass http://host.docker.internal:5173;   # <â€‘ no trailing slash!
          proxy_http_version 1.1;
          proxy_set_header Host $host;
          proxy_set_header Upgrade $http_upgrade;
          proxy_set_header Connection "upgrade";
      }

      location = / {
          return 302 /frontend/;
      }
  }